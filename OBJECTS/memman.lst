   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"memman.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	MemManReadAccessError
  18              		.section	.bss.MemManReadAccessError,"aw",%nobits
  19              		.align	1
  22              	MemManReadAccessError:
  23 0000 0000     		.space	2
  24              		.global	MemManWriteAccessError
  25              		.section	.bss.MemManWriteAccessError,"aw",%nobits
  26              		.align	1
  29              	MemManWriteAccessError:
  30 0000 0000     		.space	2
  31              		.global	memunit
  32              		.section	.bss.memunit,"aw",%nobits
  33              		.align	2
  36              	memunit:
  37 0000 00000000 		.space	120
  37      00000000 
  37      00000000 
  37      00000000 
  37      00000000 
  38              		.section	.rodata
  39              		.align	2
  40              	.LC0:
  41 0000 4D4D5F52 		.ascii	"MM_ReadAccess\000"
  41      65616441 
  41      63636573 
  41      7300
  42 000e 0000     		.align	2
  43              	.LC1:
  44 0010 4D4D5F57 		.ascii	"MM_WriteAccess\000"
  44      72697465 
  44      41636365 
  44      737300
  45              		.section	.text.MemManInit,"ax",%progbits
  46              		.align	1
  47              		.global	MemManInit
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  52              	MemManInit:
  53              	.LFB27:
  54              		.file 1 "common/rtos/common/utils/memman.c"
   1:common/rtos/common/utils/memman.c **** //********************************************************
   2:common/rtos/common/utils/memman.c **** //    Проект      :
   3:common/rtos/common/utils/memman.c **** //    Версия      : 1.0.
   4:common/rtos/common/utils/memman.c **** //    Дата        : 29.03.2009
   5:common/rtos/common/utils/memman.c **** //    Автор       : Копачевский Юрий Иванович.
   6:common/rtos/common/utils/memman.c **** //    Компания    : БЭМН
   7:common/rtos/common/utils/memman.c **** //    Файл        :
   8:common/rtos/common/utils/memman.c **** //    Комментарии :
   9:common/rtos/common/utils/memman.c **** //    Среда разработки : IAR
  10:common/rtos/common/utils/memman.c **** //*********************************************************
  11:common/rtos/common/utils/memman.c **** //    Процессор           :
  12:common/rtos/common/utils/memman.c **** //    Частота процессора  :
  13:common/rtos/common/utils/memman.c **** //    Тип программы       : Приложение
  14:common/rtos/common/utils/memman.c **** //    Модель памяти       :
  15:common/rtos/common/utils/memman.c **** //*********************************************************
  16:common/rtos/common/utils/memman.c **** #include "error.h"
  17:common/rtos/common/utils/memman.c **** #include "memman.h"
  18:common/rtos/common/utils/memman.c **** 
  19:common/rtos/common/utils/memman.c **** ErrorHandle MemManReadAccessError;
  20:common/rtos/common/utils/memman.c **** ErrorHandle MemManWriteAccessError;
  21:common/rtos/common/utils/memman.c **** 
  22:common/rtos/common/utils/memman.c **** 
  23:common/rtos/common/utils/memman.c **** MEMUNIT memunit[MEMUNITS_NUM];
  24:common/rtos/common/utils/memman.c **** int GetDefaultHandler( uint16, uint16*, uint16) ;
  25:common/rtos/common/utils/memman.c **** int SetDefaultHandler( uint16, uint16*, uint16);
  26:common/rtos/common/utils/memman.c **** 
  27:common/rtos/common/utils/memman.c **** bool MemManInit()
  28:common/rtos/common/utils/memman.c ****   {
  55              		.loc 1 28 3
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 16
  58              		@ frame_needed = 1, uses_anonymous_args = 0
  59 0000 80B5     		push	{r7, lr}
  60              	.LCFI0:
  61              		.cfi_def_cfa_offset 8
  62              		.cfi_offset 7, -8
  63              		.cfi_offset 14, -4
  64 0002 84B0     		sub	sp, sp, #16
  65              	.LCFI1:
  66              		.cfi_def_cfa_offset 24
  67 0004 00AF     		add	r7, sp, #0
  68              	.LCFI2:
  69              		.cfi_def_cfa_register 7
  29:common/rtos/common/utils/memman.c ****     int i = MEMUNITS_NUM;
  70              		.loc 1 29 9
  71 0006 0623     		movs	r3, #6
  72 0008 FB60     		str	r3, [r7, #12]
  30:common/rtos/common/utils/memman.c ****     bool rezult = false;
  73              		.loc 1 30 10
  74 000a 0023     		movs	r3, #0
  75 000c FB71     		strb	r3, [r7, #7]
  31:common/rtos/common/utils/memman.c ****     MEMUNIT *pxMemunit = &memunit[0];
  76              		.loc 1 31 14
  77 000e 164B     		ldr	r3, .L5
  78 0010 BB60     		str	r3, [r7, #8]
  32:common/rtos/common/utils/memman.c ****     while (i--)
  79              		.loc 1 32 11
  80 0012 0EE0     		b	.L2
  81              	.L3:
  33:common/rtos/common/utils/memman.c ****       {
  34:common/rtos/common/utils/memman.c ****         pxMemunit->startaddr = 0x0;
  82              		.loc 1 34 30
  83 0014 BB68     		ldr	r3, [r7, #8]
  84 0016 0022     		movs	r2, #0
  85 0018 1A60     		str	r2, [r3]
  35:common/rtos/common/utils/memman.c ****         pxMemunit->endaddr = 0x0;
  86              		.loc 1 35 28
  87 001a BB68     		ldr	r3, [r7, #8]
  88 001c 0022     		movs	r2, #0
  89 001e 5A60     		str	r2, [r3, #4]
  36:common/rtos/common/utils/memman.c ****         pxMemunit->GetMem = GetDefaultHandler;
  90              		.loc 1 36 27
  91 0020 BB68     		ldr	r3, [r7, #8]
  92 0022 124A     		ldr	r2, .L5+4
  93 0024 DA60     		str	r2, [r3, #12]
  37:common/rtos/common/utils/memman.c ****         pxMemunit->SetMem = SetDefaultHandler;
  94              		.loc 1 37 27
  95 0026 BB68     		ldr	r3, [r7, #8]
  96 0028 114A     		ldr	r2, .L5+8
  97 002a 1A61     		str	r2, [r3, #16]
  38:common/rtos/common/utils/memman.c ****        // pxMemunit->xMutex = xSemaphoreCreateMutex() ;
  39:common/rtos/common/utils/memman.c ****         pxMemunit++;
  98              		.loc 1 39 18
  99 002c BB68     		ldr	r3, [r7, #8]
 100 002e 1433     		adds	r3, r3, #20
 101 0030 BB60     		str	r3, [r7, #8]
 102              	.L2:
  32:common/rtos/common/utils/memman.c ****       {
 103              		.loc 1 32 13
 104 0032 FB68     		ldr	r3, [r7, #12]
 105 0034 5A1E     		subs	r2, r3, #1
 106 0036 FA60     		str	r2, [r7, #12]
  32:common/rtos/common/utils/memman.c ****       {
 107              		.loc 1 32 11
 108 0038 002B     		cmp	r3, #0
 109 003a EBD1     		bne	.L3
  40:common/rtos/common/utils/memman.c ****       }
  41:common/rtos/common/utils/memman.c ****     rezult = true;
 110              		.loc 1 41 12
 111 003c 0123     		movs	r3, #1
 112 003e FB71     		strb	r3, [r7, #7]
  42:common/rtos/common/utils/memman.c ****     MemManReadAccessError = ErrorCreate("MM_ReadAccess");
 113              		.loc 1 42 29
 114 0040 0C48     		ldr	r0, .L5+12
 115 0042 0D4B     		ldr	r3, .L5+16
 116 0044 9847     		blx	r3
 117              	.LVL0:
 118 0046 0346     		mov	r3, r0
 119 0048 1A46     		mov	r2, r3
 120              		.loc 1 42 27
 121 004a 0C4B     		ldr	r3, .L5+20
 122 004c 1A80     		strh	r2, [r3]	@ movhi
  43:common/rtos/common/utils/memman.c ****     MemManWriteAccessError = ErrorCreate("MM_WriteAccess");
 123              		.loc 1 43 30
 124 004e 0C48     		ldr	r0, .L5+24
 125 0050 094B     		ldr	r3, .L5+16
 126 0052 9847     		blx	r3
 127              	.LVL1:
 128 0054 0346     		mov	r3, r0
 129 0056 1A46     		mov	r2, r3
 130              		.loc 1 43 28
 131 0058 0A4B     		ldr	r3, .L5+28
 132 005a 1A80     		strh	r2, [r3]	@ movhi
  44:common/rtos/common/utils/memman.c ****     return rezult;
 133              		.loc 1 44 12
 134 005c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  45:common/rtos/common/utils/memman.c **** 
  46:common/rtos/common/utils/memman.c ****   }
 135              		.loc 1 46 3
 136 005e 1846     		mov	r0, r3
 137 0060 1037     		adds	r7, r7, #16
 138              	.LCFI3:
 139              		.cfi_def_cfa_offset 8
 140 0062 BD46     		mov	sp, r7
 141              	.LCFI4:
 142              		.cfi_def_cfa_register 13
 143              		@ sp needed
 144 0064 80BD     		pop	{r7, pc}
 145              	.L6:
 146 0066 00BF     		.align	2
 147              	.L5:
 148 0068 00000000 		.word	memunit
 149 006c 00000000 		.word	GetDefaultHandler
 150 0070 00000000 		.word	SetDefaultHandler
 151 0074 00000000 		.word	.LC0
 152 0078 00000000 		.word	ErrorCreate
 153 007c 00000000 		.word	MemManReadAccessError
 154 0080 10000000 		.word	.LC1
 155 0084 00000000 		.word	MemManWriteAccessError
 156              		.cfi_endproc
 157              	.LFE27:
 159              		.section	.text.CopyDataBytes,"ax",%progbits
 160              		.align	1
 161              		.global	CopyDataBytes
 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 166              	CopyDataBytes:
 167              	.LFB28:
  47:common/rtos/common/utils/memman.c **** void CopyDataBytes(uint8 *pxSRC, uint8 *pxDSN, uint16 BytesNum)
  48:common/rtos/common/utils/memman.c ****   {
 168              		.loc 1 48 3
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 16
 171              		@ frame_needed = 1, uses_anonymous_args = 0
 172              		@ link register save eliminated.
 173 0000 80B4     		push	{r7}
 174              	.LCFI5:
 175              		.cfi_def_cfa_offset 4
 176              		.cfi_offset 7, -4
 177 0002 85B0     		sub	sp, sp, #20
 178              	.LCFI6:
 179              		.cfi_def_cfa_offset 24
 180 0004 00AF     		add	r7, sp, #0
 181              	.LCFI7:
 182              		.cfi_def_cfa_register 7
 183 0006 F860     		str	r0, [r7, #12]
 184 0008 B960     		str	r1, [r7, #8]
 185 000a 1346     		mov	r3, r2
 186 000c FB80     		strh	r3, [r7, #6]	@ movhi
  49:common/rtos/common/utils/memman.c ****     while (BytesNum--)
 187              		.loc 1 49 11
 188 000e 07E0     		b	.L8
 189              	.L9:
  50:common/rtos/common/utils/memman.c ****       {
  51:common/rtos/common/utils/memman.c ****         *(pxDSN++) = *(pxSRC++);
 190              		.loc 1 51 29
 191 0010 FA68     		ldr	r2, [r7, #12]
 192 0012 531C     		adds	r3, r2, #1
 193 0014 FB60     		str	r3, [r7, #12]
 194              		.loc 1 51 16
 195 0016 BB68     		ldr	r3, [r7, #8]
 196 0018 591C     		adds	r1, r3, #1
 197 001a B960     		str	r1, [r7, #8]
 198              		.loc 1 51 22
 199 001c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 200              		.loc 1 51 20
 201 001e 1A70     		strb	r2, [r3]
 202              	.L8:
  49:common/rtos/common/utils/memman.c ****     while (BytesNum--)
 203              		.loc 1 49 20
 204 0020 FB88     		ldrh	r3, [r7, #6]
 205 0022 5A1E     		subs	r2, r3, #1
 206 0024 FA80     		strh	r2, [r7, #6]	@ movhi
  49:common/rtos/common/utils/memman.c ****     while (BytesNum--)
 207              		.loc 1 49 11
 208 0026 002B     		cmp	r3, #0
 209 0028 F2D1     		bne	.L9
  52:common/rtos/common/utils/memman.c ****       }
  53:common/rtos/common/utils/memman.c ****   }
 210              		.loc 1 53 3
 211 002a 00BF     		nop
 212 002c 00BF     		nop
 213 002e 1437     		adds	r7, r7, #20
 214              	.LCFI8:
 215              		.cfi_def_cfa_offset 4
 216 0030 BD46     		mov	sp, r7
 217              	.LCFI9:
 218              		.cfi_def_cfa_register 13
 219              		@ sp needed
 220 0032 80BC     		pop	{r7}
 221              	.LCFI10:
 222              		.cfi_restore 7
 223              		.cfi_def_cfa_offset 0
 224 0034 7047     		bx	lr
 225              		.cfi_endproc
 226              	.LFE28:
 228              		.section	.text.GetDefaultHandler,"ax",%progbits
 229              		.align	1
 230              		.global	GetDefaultHandler
 231              		.syntax unified
 232              		.thumb
 233              		.thumb_func
 235              	GetDefaultHandler:
 236              	.LFB29:
  54:common/rtos/common/utils/memman.c **** //==============================================================================
  55:common/rtos/common/utils/memman.c **** int GetDefaultHandler(uint16 addr, uint16* pxDsn, uint16 len)
  56:common/rtos/common/utils/memman.c ****   {
 237              		.loc 1 56 3
 238              		.cfi_startproc
 239              		@ args = 0, pretend = 0, frame = 8
 240              		@ frame_needed = 1, uses_anonymous_args = 0
 241              		@ link register save eliminated.
 242 0000 80B4     		push	{r7}
 243              	.LCFI11:
 244              		.cfi_def_cfa_offset 4
 245              		.cfi_offset 7, -4
 246 0002 83B0     		sub	sp, sp, #12
 247              	.LCFI12:
 248              		.cfi_def_cfa_offset 16
 249 0004 00AF     		add	r7, sp, #0
 250              	.LCFI13:
 251              		.cfi_def_cfa_register 7
 252 0006 0346     		mov	r3, r0
 253 0008 3960     		str	r1, [r7]
 254 000a FB80     		strh	r3, [r7, #6]	@ movhi
 255 000c 1346     		mov	r3, r2	@ movhi
 256 000e BB80     		strh	r3, [r7, #4]	@ movhi
  57:common/rtos/common/utils/memman.c ****     return false;
 257              		.loc 1 57 12
 258 0010 0023     		movs	r3, #0
  58:common/rtos/common/utils/memman.c ****   }
 259              		.loc 1 58 3
 260 0012 1846     		mov	r0, r3
 261 0014 0C37     		adds	r7, r7, #12
 262              	.LCFI14:
 263              		.cfi_def_cfa_offset 4
 264 0016 BD46     		mov	sp, r7
 265              	.LCFI15:
 266              		.cfi_def_cfa_register 13
 267              		@ sp needed
 268 0018 80BC     		pop	{r7}
 269              	.LCFI16:
 270              		.cfi_restore 7
 271              		.cfi_def_cfa_offset 0
 272 001a 7047     		bx	lr
 273              		.cfi_endproc
 274              	.LFE29:
 276              		.section	.text.SetDefaultHandler,"ax",%progbits
 277              		.align	1
 278              		.global	SetDefaultHandler
 279              		.syntax unified
 280              		.thumb
 281              		.thumb_func
 283              	SetDefaultHandler:
 284              	.LFB30:
  59:common/rtos/common/utils/memman.c **** int SetDefaultHandler(uint16 addr, uint16* pxDsn, uint16 len)
  60:common/rtos/common/utils/memman.c ****   {
 285              		.loc 1 60 3
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 8
 288              		@ frame_needed = 1, uses_anonymous_args = 0
 289              		@ link register save eliminated.
 290 0000 80B4     		push	{r7}
 291              	.LCFI17:
 292              		.cfi_def_cfa_offset 4
 293              		.cfi_offset 7, -4
 294 0002 83B0     		sub	sp, sp, #12
 295              	.LCFI18:
 296              		.cfi_def_cfa_offset 16
 297 0004 00AF     		add	r7, sp, #0
 298              	.LCFI19:
 299              		.cfi_def_cfa_register 7
 300 0006 0346     		mov	r3, r0
 301 0008 3960     		str	r1, [r7]
 302 000a FB80     		strh	r3, [r7, #6]	@ movhi
 303 000c 1346     		mov	r3, r2	@ movhi
 304 000e BB80     		strh	r3, [r7, #4]	@ movhi
  61:common/rtos/common/utils/memman.c ****     return false;
 305              		.loc 1 61 12
 306 0010 0023     		movs	r3, #0
  62:common/rtos/common/utils/memman.c ****   }
 307              		.loc 1 62 3
 308 0012 1846     		mov	r0, r3
 309 0014 0C37     		adds	r7, r7, #12
 310              	.LCFI20:
 311              		.cfi_def_cfa_offset 4
 312 0016 BD46     		mov	sp, r7
 313              	.LCFI21:
 314              		.cfi_def_cfa_register 13
 315              		@ sp needed
 316 0018 80BC     		pop	{r7}
 317              	.LCFI22:
 318              		.cfi_restore 7
 319              		.cfi_def_cfa_offset 0
 320 001a 7047     		bx	lr
 321              		.cfi_endproc
 322              	.LFE30:
 324              		.section	.text.MemGetWords,"ax",%progbits
 325              		.align	1
 326              		.global	MemGetWords
 327              		.syntax unified
 328              		.thumb
 329              		.thumb_func
 331              	MemGetWords:
 332              	.LFB31:
  63:common/rtos/common/utils/memman.c **** 
  64:common/rtos/common/utils/memman.c **** bool MemGetWords(uint16 addr, uint16* pxDsn, uint16 len)
  65:common/rtos/common/utils/memman.c ****   {
 333              		.loc 1 65 3
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 24
 336              		@ frame_needed = 1, uses_anonymous_args = 0
 337 0000 90B5     		push	{r4, r7, lr}
 338              	.LCFI23:
 339              		.cfi_def_cfa_offset 12
 340              		.cfi_offset 4, -12
 341              		.cfi_offset 7, -8
 342              		.cfi_offset 14, -4
 343 0002 87B0     		sub	sp, sp, #28
 344              	.LCFI24:
 345              		.cfi_def_cfa_offset 40
 346 0004 00AF     		add	r7, sp, #0
 347              	.LCFI25:
 348              		.cfi_def_cfa_register 7
 349 0006 0346     		mov	r3, r0
 350 0008 3960     		str	r1, [r7]
 351 000a FB80     		strh	r3, [r7, #6]	@ movhi
 352 000c 1346     		mov	r3, r2	@ movhi
 353 000e BB80     		strh	r3, [r7, #4]	@ movhi
  66:common/rtos/common/utils/memman.c ****     int i = MEMUNITS_NUM;
 354              		.loc 1 66 9
 355 0010 0623     		movs	r3, #6
 356 0012 7B61     		str	r3, [r7, #20]
  67:common/rtos/common/utils/memman.c ****     bool rezult = false;
 357              		.loc 1 67 10
 358 0014 0023     		movs	r3, #0
 359 0016 FB74     		strb	r3, [r7, #19]
  68:common/rtos/common/utils/memman.c ****     MEMUNIT *pxMemunit = &memunit[0];
 360              		.loc 1 68 14
 361 0018 1F4B     		ldr	r3, .L19
 362 001a FB60     		str	r3, [r7, #12]
  69:common/rtos/common/utils/memman.c ****     while (i--)
 363              		.loc 1 69 11
 364 001c 32E0     		b	.L15
 365              	.L17:
  70:common/rtos/common/utils/memman.c ****       {
  71:common/rtos/common/utils/memman.c ****         if ((addr >= pxMemunit->startaddr) && ((addr + len)
 366              		.loc 1 71 19
 367 001e FA88     		ldrh	r2, [r7, #6]
 368              		.loc 1 71 31
 369 0020 FB68     		ldr	r3, [r7, #12]
 370 0022 1B68     		ldr	r3, [r3]
 371              		.loc 1 71 12
 372 0024 9A42     		cmp	r2, r3
 373 0026 2AD3     		bcc	.L16
 374              		.loc 1 71 54 discriminator 1
 375 0028 FA88     		ldrh	r2, [r7, #6]
 376 002a BB88     		ldrh	r3, [r7, #4]
 377 002c 1344     		add	r3, r3, r2
 378 002e 1A46     		mov	r2, r3
  72:common/rtos/common/utils/memman.c ****             < pxMemunit->endaddr))
 379              		.loc 1 72 24 discriminator 1
 380 0030 FB68     		ldr	r3, [r7, #12]
 381 0032 5B68     		ldr	r3, [r3, #4]
  71:common/rtos/common/utils/memman.c ****             < pxMemunit->endaddr))
 382              		.loc 1 71 44 discriminator 1
 383 0034 9A42     		cmp	r2, r3
 384 0036 22D2     		bcs	.L16
  73:common/rtos/common/utils/memman.c ****           {
  74:common/rtos/common/utils/memman.c ****             if (pxMemunit->xMutex != NULL)
 385              		.loc 1 74 26
 386 0038 FB68     		ldr	r3, [r7, #12]
 387 003a 9B68     		ldr	r3, [r3, #8]
 388              		.loc 1 74 16
 389 003c 002B     		cmp	r3, #0
 390 003e 1ED0     		beq	.L16
  75:common/rtos/common/utils/memman.c ****               {
  76:common/rtos/common/utils/memman.c ****                 if (xSemaphoreTake(pxMemunit->xMutex, (portTickType) 2000)
 391              		.loc 1 76 21
 392 0040 FB68     		ldr	r3, [r7, #12]
 393 0042 9868     		ldr	r0, [r3, #8]
 394 0044 0023     		movs	r3, #0
 395 0046 4FF4FA62 		mov	r2, #2000
 396 004a 0021     		movs	r1, #0
 397 004c 134C     		ldr	r4, .L19+4
 398 004e A047     		blx	r4
 399              	.LVL2:
 400 0050 0346     		mov	r3, r0
 401              		.loc 1 76 20
 402 0052 012B     		cmp	r3, #1
 403 0054 13D1     		bne	.L16
  77:common/rtos/common/utils/memman.c ****                     == pdTRUE)
  78:common/rtos/common/utils/memman.c ****                   {
  79:common/rtos/common/utils/memman.c ****                     rezult = pxMemunit->GetMem(addr - pxMemunit->startaddr, pxDsn, len);
 404              		.loc 1 79 39
 405 0056 FB68     		ldr	r3, [r7, #12]
 406 0058 DB68     		ldr	r3, [r3, #12]
 407              		.loc 1 79 64
 408 005a FA68     		ldr	r2, [r7, #12]
 409 005c 1268     		ldr	r2, [r2]
 410              		.loc 1 79 30
 411 005e 92B2     		uxth	r2, r2
 412 0060 F988     		ldrh	r1, [r7, #6]	@ movhi
 413 0062 8A1A     		subs	r2, r1, r2
 414 0064 90B2     		uxth	r0, r2
 415 0066 BA88     		ldrh	r2, [r7, #4]
 416 0068 3968     		ldr	r1, [r7]
 417 006a 9847     		blx	r3
 418              	.LVL3:
 419 006c 0346     		mov	r3, r0
 420 006e FB74     		strb	r3, [r7, #19]
  80:common/rtos/common/utils/memman.c ****                     xSemaphoreGive(pxMemunit->xMutex);
 421              		.loc 1 80 21
 422 0070 FB68     		ldr	r3, [r7, #12]
 423 0072 9868     		ldr	r0, [r3, #8]
 424 0074 0023     		movs	r3, #0
 425 0076 0022     		movs	r2, #0
 426 0078 0021     		movs	r1, #0
 427 007a 094C     		ldr	r4, .L19+8
 428 007c A047     		blx	r4
 429              	.LVL4:
 430              	.L16:
  81:common/rtos/common/utils/memman.c ****                   }
  82:common/rtos/common/utils/memman.c ****               }
  83:common/rtos/common/utils/memman.c ****           }
  84:common/rtos/common/utils/memman.c ****         pxMemunit++;
 431              		.loc 1 84 18
 432 007e FB68     		ldr	r3, [r7, #12]
 433 0080 1433     		adds	r3, r3, #20
 434 0082 FB60     		str	r3, [r7, #12]
 435              	.L15:
  69:common/rtos/common/utils/memman.c ****       {
 436              		.loc 1 69 13
 437 0084 7B69     		ldr	r3, [r7, #20]
 438 0086 5A1E     		subs	r2, r3, #1
 439 0088 7A61     		str	r2, [r7, #20]
  69:common/rtos/common/utils/memman.c ****       {
 440              		.loc 1 69 11
 441 008a 002B     		cmp	r3, #0
 442 008c C7D1     		bne	.L17
  85:common/rtos/common/utils/memman.c ****       }
  86:common/rtos/common/utils/memman.c ****    return rezult;
 443              		.loc 1 86 11
 444 008e FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
  87:common/rtos/common/utils/memman.c ****   }
 445              		.loc 1 87 3
 446 0090 1846     		mov	r0, r3
 447 0092 1C37     		adds	r7, r7, #28
 448              	.LCFI26:
 449              		.cfi_def_cfa_offset 12
 450 0094 BD46     		mov	sp, r7
 451              	.LCFI27:
 452              		.cfi_def_cfa_register 13
 453              		@ sp needed
 454 0096 90BD     		pop	{r4, r7, pc}
 455              	.L20:
 456              		.align	2
 457              	.L19:
 458 0098 00000000 		.word	memunit
 459 009c 00000000 		.word	xQueueGenericReceive
 460 00a0 00000000 		.word	xQueueGenericSend
 461              		.cfi_endproc
 462              	.LFE31:
 464              		.section	.text.MemSetWords,"ax",%progbits
 465              		.align	1
 466              		.global	MemSetWords
 467              		.syntax unified
 468              		.thumb
 469              		.thumb_func
 471              	MemSetWords:
 472              	.LFB32:
  88:common/rtos/common/utils/memman.c **** //==============================================================================
  89:common/rtos/common/utils/memman.c **** bool MemSetWords(uint16 addr, uint16 *pxSrc, uint16 len)
  90:common/rtos/common/utils/memman.c ****   {
 473              		.loc 1 90 3
 474              		.cfi_startproc
 475              		@ args = 0, pretend = 0, frame = 24
 476              		@ frame_needed = 1, uses_anonymous_args = 0
 477 0000 90B5     		push	{r4, r7, lr}
 478              	.LCFI28:
 479              		.cfi_def_cfa_offset 12
 480              		.cfi_offset 4, -12
 481              		.cfi_offset 7, -8
 482              		.cfi_offset 14, -4
 483 0002 87B0     		sub	sp, sp, #28
 484              	.LCFI29:
 485              		.cfi_def_cfa_offset 40
 486 0004 00AF     		add	r7, sp, #0
 487              	.LCFI30:
 488              		.cfi_def_cfa_register 7
 489 0006 0346     		mov	r3, r0
 490 0008 3960     		str	r1, [r7]
 491 000a FB80     		strh	r3, [r7, #6]	@ movhi
 492 000c 1346     		mov	r3, r2	@ movhi
 493 000e BB80     		strh	r3, [r7, #4]	@ movhi
  91:common/rtos/common/utils/memman.c ****     int i = MEMUNITS_NUM;
 494              		.loc 1 91 9
 495 0010 0623     		movs	r3, #6
 496 0012 7B61     		str	r3, [r7, #20]
  92:common/rtos/common/utils/memman.c ****     bool rezult = false;
 497              		.loc 1 92 10
 498 0014 0023     		movs	r3, #0
 499 0016 FB74     		strb	r3, [r7, #19]
  93:common/rtos/common/utils/memman.c ****     MEMUNIT *pxMemunit = &memunit[0];
 500              		.loc 1 93 14
 501 0018 1F4B     		ldr	r3, .L26
 502 001a FB60     		str	r3, [r7, #12]
  94:common/rtos/common/utils/memman.c ****     while (i--)
 503              		.loc 1 94 11
 504 001c 32E0     		b	.L22
 505              	.L24:
  95:common/rtos/common/utils/memman.c ****       {
  96:common/rtos/common/utils/memman.c ****         if ((addr >= pxMemunit->startaddr) && ((addr + len)
 506              		.loc 1 96 19
 507 001e FA88     		ldrh	r2, [r7, #6]
 508              		.loc 1 96 31
 509 0020 FB68     		ldr	r3, [r7, #12]
 510 0022 1B68     		ldr	r3, [r3]
 511              		.loc 1 96 12
 512 0024 9A42     		cmp	r2, r3
 513 0026 2AD3     		bcc	.L23
 514              		.loc 1 96 54 discriminator 1
 515 0028 FA88     		ldrh	r2, [r7, #6]
 516 002a BB88     		ldrh	r3, [r7, #4]
 517 002c 1344     		add	r3, r3, r2
 518 002e 1A46     		mov	r2, r3
  97:common/rtos/common/utils/memman.c ****             < pxMemunit->endaddr))
 519              		.loc 1 97 24 discriminator 1
 520 0030 FB68     		ldr	r3, [r7, #12]
 521 0032 5B68     		ldr	r3, [r3, #4]
  96:common/rtos/common/utils/memman.c ****             < pxMemunit->endaddr))
 522              		.loc 1 96 44 discriminator 1
 523 0034 9A42     		cmp	r2, r3
 524 0036 22D2     		bcs	.L23
  98:common/rtos/common/utils/memman.c ****           {
  99:common/rtos/common/utils/memman.c ****             if (pxMemunit->xMutex != NULL)
 525              		.loc 1 99 26
 526 0038 FB68     		ldr	r3, [r7, #12]
 527 003a 9B68     		ldr	r3, [r3, #8]
 528              		.loc 1 99 16
 529 003c 002B     		cmp	r3, #0
 530 003e 1ED0     		beq	.L23
 100:common/rtos/common/utils/memman.c ****               {
 101:common/rtos/common/utils/memman.c ****                 if (xSemaphoreTake(pxMemunit->xMutex, (portTickType) 2000)
 531              		.loc 1 101 21
 532 0040 FB68     		ldr	r3, [r7, #12]
 533 0042 9868     		ldr	r0, [r3, #8]
 534 0044 0023     		movs	r3, #0
 535 0046 4FF4FA62 		mov	r2, #2000
 536 004a 0021     		movs	r1, #0
 537 004c 134C     		ldr	r4, .L26+4
 538 004e A047     		blx	r4
 539              	.LVL5:
 540 0050 0346     		mov	r3, r0
 541              		.loc 1 101 20
 542 0052 012B     		cmp	r3, #1
 543 0054 13D1     		bne	.L23
 102:common/rtos/common/utils/memman.c ****                     == pdTRUE)
 103:common/rtos/common/utils/memman.c ****                   {
 104:common/rtos/common/utils/memman.c ****                     rezult = pxMemunit->SetMem(addr - pxMemunit->startaddr, pxSrc, len);
 544              		.loc 1 104 39
 545 0056 FB68     		ldr	r3, [r7, #12]
 546 0058 1B69     		ldr	r3, [r3, #16]
 547              		.loc 1 104 64
 548 005a FA68     		ldr	r2, [r7, #12]
 549 005c 1268     		ldr	r2, [r2]
 550              		.loc 1 104 30
 551 005e 92B2     		uxth	r2, r2
 552 0060 F988     		ldrh	r1, [r7, #6]	@ movhi
 553 0062 8A1A     		subs	r2, r1, r2
 554 0064 90B2     		uxth	r0, r2
 555 0066 BA88     		ldrh	r2, [r7, #4]
 556 0068 3968     		ldr	r1, [r7]
 557 006a 9847     		blx	r3
 558              	.LVL6:
 559 006c 0346     		mov	r3, r0
 560 006e FB74     		strb	r3, [r7, #19]
 105:common/rtos/common/utils/memman.c ****                     xSemaphoreGive(pxMemunit->xMutex);
 561              		.loc 1 105 21
 562 0070 FB68     		ldr	r3, [r7, #12]
 563 0072 9868     		ldr	r0, [r3, #8]
 564 0074 0023     		movs	r3, #0
 565 0076 0022     		movs	r2, #0
 566 0078 0021     		movs	r1, #0
 567 007a 094C     		ldr	r4, .L26+8
 568 007c A047     		blx	r4
 569              	.LVL7:
 570              	.L23:
 106:common/rtos/common/utils/memman.c ****                   }
 107:common/rtos/common/utils/memman.c ****               }
 108:common/rtos/common/utils/memman.c ****           }
 109:common/rtos/common/utils/memman.c ****         pxMemunit++;
 571              		.loc 1 109 18
 572 007e FB68     		ldr	r3, [r7, #12]
 573 0080 1433     		adds	r3, r3, #20
 574 0082 FB60     		str	r3, [r7, #12]
 575              	.L22:
  94:common/rtos/common/utils/memman.c ****       {
 576              		.loc 1 94 13
 577 0084 7B69     		ldr	r3, [r7, #20]
 578 0086 5A1E     		subs	r2, r3, #1
 579 0088 7A61     		str	r2, [r7, #20]
  94:common/rtos/common/utils/memman.c ****       {
 580              		.loc 1 94 11
 581 008a 002B     		cmp	r3, #0
 582 008c C7D1     		bne	.L24
 110:common/rtos/common/utils/memman.c ****       }
 111:common/rtos/common/utils/memman.c ****       return rezult;
 583              		.loc 1 111 14
 584 008e FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 112:common/rtos/common/utils/memman.c ****   }
 585              		.loc 1 112 3
 586 0090 1846     		mov	r0, r3
 587 0092 1C37     		adds	r7, r7, #28
 588              	.LCFI31:
 589              		.cfi_def_cfa_offset 12
 590 0094 BD46     		mov	sp, r7
 591              	.LCFI32:
 592              		.cfi_def_cfa_register 13
 593              		@ sp needed
 594 0096 90BD     		pop	{r4, r7, pc}
 595              	.L27:
 596              		.align	2
 597              	.L26:
 598 0098 00000000 		.word	memunit
 599 009c 00000000 		.word	xQueueGenericReceive
 600 00a0 00000000 		.word	xQueueGenericSend
 601              		.cfi_endproc
 602              	.LFE32:
 604              		.text
 605              	.Letext0:
 606              		.file 2 "common/rtos/common/utils/typedef.h"
 607              		.file 3 "common/rtos/common/utils/error.h"
 608              		.file 4 "common/rtos/portable/GCC/ARM_CM3/portmacro.h"
 609              		.file 5 "common/rtos/include/queue.h"
 610              		.file 6 "common/rtos/include/semphr.h"
 611              		.file 7 "common/rtos/common/utils/memman.h"
DEFINED SYMBOLS
                            *ABS*:00000000 memman.c
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:22     .bss.MemManReadAccessError:00000000 MemManReadAccessError
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:19     .bss.MemManReadAccessError:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:29     .bss.MemManWriteAccessError:00000000 MemManWriteAccessError
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:26     .bss.MemManWriteAccessError:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:36     .bss.memunit:00000000 memunit
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:33     .bss.memunit:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:39     .rodata:00000000 $d
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:46     .text.MemManInit:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:52     .text.MemManInit:00000000 MemManInit
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:148    .text.MemManInit:00000068 $d
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:235    .text.GetDefaultHandler:00000000 GetDefaultHandler
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:283    .text.SetDefaultHandler:00000000 SetDefaultHandler
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:160    .text.CopyDataBytes:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:166    .text.CopyDataBytes:00000000 CopyDataBytes
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:229    .text.GetDefaultHandler:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:277    .text.SetDefaultHandler:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:325    .text.MemGetWords:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:331    .text.MemGetWords:00000000 MemGetWords
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:458    .text.MemGetWords:00000098 $d
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:465    .text.MemSetWords:00000000 $t
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:471    .text.MemSetWords:00000000 MemSetWords
C:\Users\Admin\AppData\Local\Temp\ccuRjE0Q.s:598    .text.MemSetWords:00000098 $d

UNDEFINED SYMBOLS
ErrorCreate
xQueueGenericReceive
xQueueGenericSend
